{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_itg3h2caYLABVQ7aLTygZaoE', 'function': {'arguments': '{"filename":"test_img.jpg"}', 'name': 'agentic_extractor'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 19, 'prompt_tokens': 148, 'total_tokens': 167, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-41210530-3082-4cb5-96cd-1fdbbc2af386-0', tool_calls=[{'name': 'agentic_extractor', 'args': {'filename': 'test_img.jpg'}, 'id': 'call_itg3h2caYLABVQ7aLTygZaoE', 'type': 'tool_call'}], usage_metadata={'input_tokens': 148, 'output_tokens': 19, 'total_tokens': 167, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content="description='Receipt from a grocery store' date='2023-10-01' type='image' total_cost='45.34'", name='agentic_extractor', id='56ab5183-2a9b-468d-b021-8809e9ba1d9f', tool_call_id='call_itg3h2caYLABVQ7aLTygZaoE')]}}
----
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_vGylPIqeCGFc4qhP7N30l7kv', 'function': {'arguments': '{"filename":"test_img.jpg","description":"Receipt from a grocery store","type":"image"}', 'name': 'add_raw_to_db'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 31, 'prompt_tokens': 204, 'total_tokens': 235, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-f8025b8c-7d49-43d4-95dd-43946c29092d-0', tool_calls=[{'name': 'add_raw_to_db', 'args': {'filename': 'test_img.jpg', 'description': 'Receipt from a grocery store', 'type': 'image'}, 'id': 'call_vGylPIqeCGFc4qhP7N30l7kv', 'type': 'tool_call'}], usage_metadata={'input_tokens': 204, 'output_tokens': 31, 'total_tokens': 235, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='successfully added to database collection', name='add_raw_to_db', id='bab10e29-b5cd-4c2c-95cd-864c996f958a', tool_call_id='call_vGylPIqeCGFc4qhP7N30l7kv')]}}
----
{'agent': {'messages': [AIMessage(content='The receipt from the grocery store has been successfully added to the database. It was dated October 1, 2023, and the total cost was $45.34.', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 250, 'total_tokens': 287, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'stop', 'logprobs': None}, id='run-ffb7050d-6d7e-4ab7-9f8a-88f30fa9b978-0', usage_metadata={'input_tokens': 250, 'output_tokens': 37, 'total_tokens': 287, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
Total Tokens: 1685
Prompt Tokens: 1568
Completion Tokens: 117
Total Cost (USD): $0.00030539999999999994
