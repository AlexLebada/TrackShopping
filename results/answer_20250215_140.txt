{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_N165uFZHmh3PJ7Auw7mgPL5i', 'function': {'arguments': '{"filename":"bananas_receipt.txt","description":"Receipt for bananas purchase","type":"text"}', 'name': 'add_raw_to_db'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 294, 'total_tokens': 326, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-7c16a336-0c27-4991-8809-0e9b444ee06c-0', tool_calls=[{'name': 'add_raw_to_db', 'args': {'filename': 'bananas_receipt.txt', 'description': 'Receipt for bananas purchase', 'type': 'text'}, 'id': 'call_N165uFZHmh3PJ7Auw7mgPL5i', 'type': 'tool_call'}], usage_metadata={'input_tokens': 294, 'output_tokens': 32, 'total_tokens': 326, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='["successfully added metadata", "document_id:67afd47efaab0ac45fb17c1e"]', name='add_raw_to_db', id='c4eceb5d-1e0c-4590-924f-b592079b7ec7', tool_call_id='call_N165uFZHmh3PJ7Auw7mgPL5i')]}}
----
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_02lsgjkRzZSRyEcPGo8vO1yr', 'function': {'arguments': '{"user":"Giorgio","date":"2023-10-05","type":"receipt","fruits":["bananas"],"vegetables":[],"shop_place":"unknown","document_id":"67afd47efaab0ac45fb17c1e","total_cost":"20 RON"}', 'name': 'add_receipts'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 71, 'prompt_tokens': 359, 'total_tokens': 430, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-2d602c9c-f464-42fa-ba25-a69045c04418-0', tool_calls=[{'name': 'add_receipts', 'args': {'user': 'Giorgio', 'date': '2023-10-05', 'type': 'receipt', 'fruits': ['bananas'], 'vegetables': [], 'shop_place': 'unknown', 'document_id': '67afd47efaab0ac45fb17c1e', 'total_cost': '20 RON'}, 'id': 'call_02lsgjkRzZSRyEcPGo8vO1yr', 'type': 'tool_call'}], usage_metadata={'input_tokens': 359, 'output_tokens': 71, 'total_tokens': 430, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='successfully added to database collection', name='add_receipts', id='9ab4c290-da7c-456e-a14a-70724cf1f642', tool_call_id='call_02lsgjkRzZSRyEcPGo8vO1yr')]}}
----
{'agent': {'messages': [AIMessage(content="I've recorded your purchase of bananas for 20 RON. If you have any more expenses to add, feel free to let me know!", additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 444, 'total_tokens': 474, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'stop', 'logprobs': None}, id='run-198cd725-ac06-441e-85bc-d0fd31793184-0', usage_metadata={'input_tokens': 444, 'output_tokens': 30, 'total_tokens': 474, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
Total Tokens: 1230
Prompt Tokens: 1097
Completion Tokens: 133
Total Cost (USD): $0.00024434999999999995
