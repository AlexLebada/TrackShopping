{'messages': [], 'input': 'how would you store a receipt ?', 'plan': '', 'past_steps': []}
----
{'messages': [], 'input': 'how would you store a receipt ?', 'plan': [Step(task='Explain how to store a receipt in the database.', agent='accountant')], 'past_steps': []}
----
{'messages': [], 'input': 'how would you store a receipt ?', 'plan': [Step(task='Explain how to store a receipt in the database.', agent='accountant')], 'past_steps': [('Explain how to store a receipt in the database.', AIMessage(content='To store a receipt in the database, follow these steps:\n\n1. **Add Metadata**: Use the `add_raw_to_db` function to store the metadata of the receipt. This includes the filename (if provided), a description of the receipt, the type (which should be "image" if it\'s a receipt image), and the user (default is "Giorgio").\n\n2. **Get Document ID**: After adding the metadata, retrieve the document ID that is generated.\n\n3. **Add Receipt Data**: Use the `add_receipts` function to store the actual receipt data. You will need to provide the user, date of the receipt, type (which should be "receipt"), lists of fruits and vegetables (if applicable), the shop place, the document ID obtained in the previous step, and the total cost of the receipt.\n\nBy following these steps, you can successfully store a receipt in the database.', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 188, 'prompt_tokens': 427, 'total_tokens': 615, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'stop', 'logprobs': None}, id='run-5fc936f5-f252-4ffa-8bf8-b232d648c16f-0', usage_metadata={'input_tokens': 427, 'output_tokens': 188, 'total_tokens': 615, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}))]}
----
{'messages': [], 'input': 'how would you store a receipt ?', 'plan': [Step(task='Explain how to store a receipt in the database.', agent='accountant')], 'past_steps': [('Explain how to store a receipt in the database.', AIMessage(content='To store a receipt in the database, follow these steps:\n\n1. **Add Metadata**: Use the `add_raw_to_db` function to store the metadata of the receipt. This includes the filename (if provided), a description of the receipt, the type (which should be "image" if it\'s a receipt image), and the user (default is "Giorgio").\n\n2. **Get Document ID**: After adding the metadata, retrieve the document ID that is generated.\n\n3. **Add Receipt Data**: Use the `add_receipts` function to store the actual receipt data. You will need to provide the user, date of the receipt, type (which should be "receipt"), lists of fruits and vegetables (if applicable), the shop place, the document ID obtained in the previous step, and the total cost of the receipt.\n\nBy following these steps, you can successfully store a receipt in the database.', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 188, 'prompt_tokens': 427, 'total_tokens': 615, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'stop', 'logprobs': None}, id='run-5fc936f5-f252-4ffa-8bf8-b232d648c16f-0', usage_metadata={'input_tokens': 427, 'output_tokens': 188, 'total_tokens': 615, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}))], 'response': 'FINISH'}
----
Total Tokens: 2271
Prompt Tokens: 2048
Completion Tokens: 223
Total Cost (USD): $0.004579349999999999
