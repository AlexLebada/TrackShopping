{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_uM6NMYumhS6KCedFFPoy6lm1', 'function': {'arguments': '{"filename":"receipt_bananas_20RON","description":"Spent 20 RON on bananas","type":"receipt"}', 'name': 'add_raw_to_db'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 37, 'prompt_tokens': 246, 'total_tokens': 283, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-5985dda8-da0a-4718-bdaa-39137ad6d5de-0', tool_calls=[{'name': 'add_raw_to_db', 'args': {'filename': 'receipt_bananas_20RON', 'description': 'Spent 20 RON on bananas', 'type': 'receipt'}, 'id': 'call_uM6NMYumhS6KCedFFPoy6lm1', 'type': 'tool_call'}], usage_metadata={'input_tokens': 246, 'output_tokens': 37, 'total_tokens': 283, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='["successfully added metadata", "document_id:67afce4e7db7b15cc54e22a8"]', name='add_raw_to_db', id='ddb35e81-94e4-40eb-9f91-d6a36496d8ee', tool_call_id='call_uM6NMYumhS6KCedFFPoy6lm1')]}}
----
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_nxGqOtjvrx0aWinex8enmudC', 'function': {'arguments': '{"user":"Giorgio","date":"2023-10-05","fruits":["bananas"],"vegetables":[],"shop_place":"unknown","document_id":"67afce4e7db7b15cc54e22a8","total_cost":"20 RON"}', 'name': 'add_receipts'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 70, 'prompt_tokens': 319, 'total_tokens': 389, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-cbbf2142-7090-4cf4-b23f-fe75f8859e0f-0', tool_calls=[{'name': 'add_receipts', 'args': {'user': 'Giorgio', 'date': '2023-10-05', 'fruits': ['bananas'], 'vegetables': [], 'shop_place': 'unknown', 'document_id': '67afce4e7db7b15cc54e22a8', 'total_cost': '20 RON'}, 'id': 'call_nxGqOtjvrx0aWinex8enmudC', 'type': 'tool_call'}], usage_metadata={'input_tokens': 319, 'output_tokens': 70, 'total_tokens': 389, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='successfully added to database collection', name='add_receipts', id='d9e2601e-029f-43ef-9101-bfce4183f7e1', tool_call_id='call_nxGqOtjvrx0aWinex8enmudC')]}}
----
{'agent': {'messages': [AIMessage(content="I've recorded your expense of 20 RON on bananas. If you have any more receipts or expenses to add, feel free to let me know!", additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 32, 'prompt_tokens': 403, 'total_tokens': 435, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'stop', 'logprobs': None}, id='run-a4ce909d-616c-4715-a625-83e91a167c9d-0', usage_metadata={'input_tokens': 403, 'output_tokens': 32, 'total_tokens': 435, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
Total Tokens: 1107
Prompt Tokens: 968
Completion Tokens: 139
Total Cost (USD): $0.00022859999999999997
