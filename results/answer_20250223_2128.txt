{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_MjzfLbbbv2F2muSlGrMGAXAR', 'function': {'arguments': '{"collection_name":"yearly_cost","mode":"check"}', 'name': 'cache_file_read'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 23, 'prompt_tokens': 480, 'total_tokens': 503, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-2024-08-06', 'system_fingerprint': 'fp_eb9dce56a8', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-09b735c2-cf3f-4e66-b47f-f1736416d6fd-0', tool_calls=[{'name': 'cache_file_read', 'args': {'collection_name': 'yearly_cost', 'mode': 'check'}, 'id': 'call_MjzfLbbbv2F2muSlGrMGAXAR', 'type': 'tool_call'}], usage_metadata={'input_tokens': 480, 'output_tokens': 23, 'total_tokens': 503, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='["data_extracted:", {"yearly_cost": {"name": "yearly_cost", "description": "result of total amount of spending per current year", "value": 45.34, "collection": "receipts", "tool": "get_receipts_info", "display": 1}, "monthly_cost": {"name": "monthly_cost", "description": "result of  total amount of spending last 2 months", "value": 45.34, "collection": "non-receipts", "tool": "get_receipts_info", "display": 1}, "daily_cost": {"name": "daily_cost", "description": "result of total amount of spending today", "value": 0, "collection": "receipts", "tool": "get_receipts_info", "display": 1}, "first_2_days_previous_month_cost": {"name": "first_2_days_previous_month_cost", "description": "result of total amount of spending first 2 days of the previous month", "value": 0, "collection": "receipts", "tool": "get_receipts_info", "display": 1}}]', name='cache_file_read', id='4b77cc50-0bd2-4022-9d76-d56ca36b0559', tool_call_id='call_MjzfLbbbv2F2muSlGrMGAXAR')]}}
----
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_wWs2TUGlYvm4AfQPA7arAqj9', 'function': {'arguments': '{}', 'name': 'current_date'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 11, 'prompt_tokens': 752, 'total_tokens': 763, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-2024-08-06', 'system_fingerprint': 'fp_eb9dce56a8', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-927131cd-d6e9-4e39-a91e-54d5e77c29ca-0', tool_calls=[{'name': 'current_date', 'args': {}, 'id': 'call_wWs2TUGlYvm4AfQPA7arAqj9', 'type': 'tool_call'}], usage_metadata={'input_tokens': 752, 'output_tokens': 11, 'total_tokens': 763, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='2025-02-23', name='current_date', id='ea44c5f9-4324-4e89-8dcb-2ac93c3f1bae', tool_call_id='call_wWs2TUGlYvm4AfQPA7arAqj9')]}}
----
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_dXKgWBgThZSuyMeh4NYdi3sm', 'function': {'arguments': '{"collection_name":"receipts","start_date":"2024-01-01","end_date":"2024-12-31"}', 'name': 'get_receipts_info'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 39, 'prompt_tokens': 776, 'total_tokens': 815, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-2024-08-06', 'system_fingerprint': 'fp_eb9dce56a8', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-634a0087-533c-4cd2-864c-de10b0318895-0', tool_calls=[{'name': 'get_receipts_info', 'args': {'collection_name': 'receipts', 'start_date': '2024-01-01', 'end_date': '2024-12-31'}, 'id': 'call_dXKgWBgThZSuyMeh4NYdi3sm', 'type': 'tool_call'}], usage_metadata={'input_tokens': 776, 'output_tokens': 39, 'total_tokens': 815, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='45.34', name='get_receipts_info', id='a4766c9a-f590-4a73-8afd-c732bcfea551', tool_call_id='call_dXKgWBgThZSuyMeh4NYdi3sm')]}}
----
{'agent': {'messages': [AIMessage(content='The total amount spent last year was $45.34.', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 14, 'prompt_tokens': 827, 'total_tokens': 841, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-2024-08-06', 'system_fingerprint': 'fp_eb9dce56a8', 'finish_reason': 'stop', 'logprobs': None}, id='run-c4a76c63-cc3e-4302-999c-7d20b454ebcd-0', usage_metadata={'input_tokens': 827, 'output_tokens': 14, 'total_tokens': 841, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
Total Tokens: 2922
Prompt Tokens: 2835
Completion Tokens: 87
Total Cost (USD): $0.0079575
