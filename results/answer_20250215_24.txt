{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_mVp6ek2eQlXBOVK035NTpKIj', 'function': {'arguments': '{"filename":"test_img.jpg","description":"Test image for processing","type":"image"}', 'name': 'add_raw_to_db'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 30, 'prompt_tokens': 300, 'total_tokens': 330, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-efa9d30b-9872-4d6b-90ab-b2db05653a2c-0', tool_calls=[{'name': 'add_raw_to_db', 'args': {'filename': 'test_img.jpg', 'description': 'Test image for processing', 'type': 'image'}, 'id': 'call_mVp6ek2eQlXBOVK035NTpKIj', 'type': 'tool_call'}], usage_metadata={'input_tokens': 300, 'output_tokens': 30, 'total_tokens': 330, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='["successfully added metadata", "document_id:67afd9f57cc4842ff31581d1"]', name='add_raw_to_db', id='ce54d259-2dad-4b7a-9486-0aa5795b03fc', tool_call_id='call_mVp6ek2eQlXBOVK035NTpKIj')]}}
----
{'agent': {'messages': [AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_awLE8na1E5EsAExKfDI9wgIy', 'function': {'arguments': '{"filename":"test_img.jpg"}', 'name': 'agentic_extractor'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 19, 'prompt_tokens': 363, 'total_tokens': 382, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run-e966932c-d71d-4b55-910e-c40056658da6-0', tool_calls=[{'name': 'agentic_extractor', 'args': {'filename': 'test_img.jpg'}, 'id': 'call_awLE8na1E5EsAExKfDI9wgIy', 'type': 'tool_call'}], usage_metadata={'input_tokens': 363, 'output_tokens': 19, 'total_tokens': 382, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
{'tools': {'messages': [ToolMessage(content='Error: BadRequestError("Error code: 400 - {\'error\': {\'message\': \'Invalid content type. image_url is only supported by certain models.\', \'type\': \'invalid_request_error\', \'param\': \'messages.[0].content.[1].type\', \'code\': None}}")\n Please fix your mistakes.', name='agentic_extractor', id='774060bf-87fd-470e-b179-1bdfcd0db051', tool_call_id='call_awLE8na1E5EsAExKfDI9wgIy', status='error')]}}
----
{'agent': {'messages': [AIMessage(content='It seems there was an error while trying to process the image. The content type is not supported for extraction. If you have any specific information or data you would like to provide or ask about, please let me know!', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 46, 'prompt_tokens': 456, 'total_tokens': 502, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4o-mini-2024-07-18', 'system_fingerprint': 'fp_00428b782a', 'finish_reason': 'stop', 'logprobs': None}, id='run-08549fa8-41eb-4195-bfe8-3f1a101268e4-0', usage_metadata={'input_tokens': 456, 'output_tokens': 46, 'total_tokens': 502, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}}
----
Total Tokens: 1214
Prompt Tokens: 1119
Completion Tokens: 95
Total Cost (USD): $0.00022484999999999996
